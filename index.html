<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Networked Microcontrollers for Distributed Audio Spatialisation</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:ital,wght@0,300;1,300&family=DM+Serif+Display:ital@0;1&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/aau.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css">
</head>
<body>
<div class="reveal">
    <aside class="aau-logo"><img src="./assets/__AAU_LEFT_RGB.png"></aside>

    <div class="slides">
        <section>
            <h2>Networked Microcontrollers for Distributed Audio Spatialisation</h2>
            <p>Thomas Albert Rushton</p>
        </section>

        <section>
            <h6>Wave Field Synthesis</h6>
            <section>
                <img src="./assets/wfs_1.png" width="600">

                <p class="fragment">Synthesise a wavefront via secondary point sources</p>
            </section>

            <section>
                <img src="./assets/wfs_2.png" width="600">

                <p>Driving function for each speaker is the <em>virtual propagation delay</em></p>

                <p class="fragment">And a filter to model losses</p>
            </section>

            <section>
                <img src="./assets/wfs_3.png" width="500">

                <p class="fragment">
                    \[\begin{equation*}
                    \mathbf{x} = \begin{bmatrix}x & y & z\end{bmatrix}^T
                    \end{equation*} \]
                </p>

                <p class="fragment">
                    \[\begin{equation*}
                    \hat{d}(\mathbf{x},t) = \hat{s}_{\text{in}, k}(t) \ast d_k(\mathbf{x},t)
                    \end{equation*} \]
                </p>

                <p class="fragment">
                    \[\begin{equation*}
                    d_k(\mathbf{x},t) = f(\mathbf{x}, t) \ast \delta\left(t - \frac{r_k}{c}\right)
                    \end{equation*} \]
                </p>
            </section>

        </section>

        <section>
            <h6>Motivation</h6>

            <section>
                <img src="./assets/wfs_4.png" width="600">

                <p>WFS systems are typically centralised</p>

                <p class="fragment">Lots of output channels &mdash; costly</p>
            </section>

            <section>
                <img src="./assets/wfs_5.png" width="600">

                <p>What if we could distribute the work?</p>
            </section>
        </section>

        <section>
            <h6>Distributed Systems</h6>

            <section>
                <blockquote>"A distributed system is a collection of independent entities that cooperate to solve a
                    problem that cannot be individually solved."
                </blockquote>
                <small>Kshemkalyani &amp; Singhal (2011)<em> Distributed Computing: Principles, Algorithms, and
                    Systems</em></small>
            </section>

            <section>
                <p>Desirable qualities:</p>

                <ul>
                    <li>Scalability
                        <ul class="fragment">
                            <li>Adding more entities <em>should not pose a bottleneck</em> for the communication network
                            </li>
                        </ul>
                    </li>
                    <li class="fragment">Modularity
                        <ul>
                            <li class="fragment">Entities may be added to the system <em>without affecting
                                performance</em></li>
                            <li class="fragment">The system is <em>incrementally extensible</em></li>
                        </ul>
                    </li>
                    <li class="fragment">Improved cost/performance ratio
                        <ul>
                            <li class="fragment">A scalable, modular system can be extended with <em>minimal
                                redundancy</em></li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section>
                <p>Undesirable qualities:</p>

                <ul>
                    <li class="fragment">Complexity
                        <ul>
                            <li class="fragment">Harder to update and troubleshoot</li>
                        </ul>
                    </li>
                    <li class="fragment">More potential points of failure</li>
                </ul>
            </section>
        </section>

        <section>
            <h6>Networked Audio</h6>

            <section>
                <blockquote>In a distributed audio system, cooperating entities must be served with the audio and
                    control data that they need in order to perform their part of a signal processing problem.
                </blockquote>
            </section>

            <section>
                <p>Transport layer protocols</p>
                <ul>
                    <li class="fragment">TCP
                        <ul>
                            <li class="fragment">One-to-one (<em>unicast</em>)</li>
                            <li class="fragment">Connection-based</li>
                            <li class="fragment">Redundancy; guarantees on packet ordering and delivery</li>
                        </ul>
                    </li>
                    <li class="fragment">UDP
                        <ul>
                            <li class="fragment">One-to-one</li>
                            <li class="fragment">One-to-many (<em>multicast</em>)</li>
                            <li class="fragment">One-to-all (<em>broadcast</em>)</li>
                            <li class="fragment"><em>Connectionless</em></li>
                            <li class="fragment">No transmission guarantees; no associated overhead</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section>
                <p>Network layer protocols</p>
                <ul>
                    <li class="fragment">AVB/AES67
                        <ul>
                            <li class="fragment">Reliant on PTP-enabled hardware</li>
                        </ul>
                    </li>
                    <li class="fragment">Dante
                        <ul>
                            <li class="fragment">Proprietary</li>
                            <li class="fragment">Also reliant on PTP</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section>
                <p>Other systems</p>
                <ul>
                    <li>JackTrip</li>
                    <li>NetJack</li>
                    <li>ZitaNJBridge</li>
                    <li>A variety of other UDP-based systems for remote rehearsals, networked concerts, etc.</li>
                </ul>
            </section>
        </section>

        <section>
            <h6>Prior Art</h6>

            <section>
                <img src="./assets/gabrielli2012.png" width="600">

                <p>Gabrielli et al. (2012) <em>Networked Beagleboards for wireless music applications</em></p>
            </section>

            <section>
                <img src="./assets/devonport-foss2019.png" width="600">

                <p>Devonport &amp; Foss (2019) <em>The Distribution of Ambisonic and Point Source Rendering to Ethernet
                    AVB Speakers</em></p>
            </section>

            <section>
                <img src="./assets/belloch2021.png" width="600">

                <p>Belloch et al. (2021) <em>On the performance of a GPU-based SoC in a distributed spatial audio
                    system</em></p>
            </section>

            <section>
                <img src="./assets/rushton2023.png" width="700">

                <p>Rushton, Michon &amp; Letz (2023) <em>A Microcontroller-based Network Client Towards Distributed
                    Spatial Audio</em></p>
            </section>
        </section>

        <section>
            <h6>Research Questions</h6>

            <section>
                <blockquote class="fragment">
                    How can a network of microcontrollers be used to create a distributed
                    audio system suitable for managing scalable installations for spatial
                    and immersive audio?
                </blockquote>
            </section>

            <section>
                <blockquote>
                    How can such a system be created and configured such that it maintains
                    inter-client synchronicity? What are the effects of loss of
                    synchronicity on distributed spatialisation algorithms?
                </blockquote>
            </section>
        </section>

        <section>
            <h6>The Microcontroller Platform</h6>

            <img src="./assets/module.jpeg" width="500">

            <ul>
                <li class="fragment">Support for ethernet and audio</li>
                <li class="fragment">Easily reprogrammable</li>
                <li class="fragment">~â‚¬45</li>
            </ul>
        </section>

        <section>
            <h6>The Networked Audio Server</h6>

            <section>
                <img src="./assets/waveform.png" width="600">

                <pre style="width: 920px;"><code data-trim class="txt" data-line-numbers="|3-5|6,7|8,9">
                           00 01 02 03 04 05 06 07  08 09 0a 0b 0c 0d 0e 0f

                    0000   01 00 5e 04 e0 04 a0 36  bc d0 aa 18 08 00 45 00   ..^....6......E.
                    0010   00 62 8b b5 40 00 01 11  63 1a c0 a8 0a 0a e0 04   .b..@...c.......
                    0020   e0 04 39 f9 a3 56 00 4e  66 2b df 1c 04 02 02 02   ..9..V.Nf+......
                    0030   3f 7a 40 7a 41 7a 42 7a  43 7a 44 7a 45 7a 46 7a   ?z@zAzBzCzDzEzFz
                    0040   47 7a 48 7a 49 7a 4a 7a  4b 7a 4c 7a 4d 7a 4e 7a   GzHzIzJzKzLzMzNz
                    0050   2c 8c ff 88 43 86 05 84  46 82 00 81 44 80 00 80   ,...C...F...D...
                    0060   45 80 ff 80 46 82 06 84  41 86 02 89 29 8c db 8f   E...F...A...)...
                </code></pre>
            </section>

            <section>
                <img src="./assets/audio-server.png" width="1100">
            </section>
        </section>
    </div>
</div>

<script src="dist/reveal.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/markdown/markdown.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script src="plugin/math/math.js"></script>
<script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
        hash: true,
        slideNumber: false,
        autoAnimateEasing: 'opacity',
        // margin: 0.04,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.KaTeX]
    });
</script>
</body>
</html>
